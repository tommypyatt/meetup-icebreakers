<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="output.css" rel="stylesheet">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
  <body>
    <div class="p-5 text-center" x-data="iceBreakers()">
      <h1 class="text-3xl font-bold mb-7">Ice Breakers</h1>
      <p class="mb-7" x-text="current"></p>
      <button class="bg-green-400 p-2 border-green-700 rounded mb-7" type="button" @click="newIceBreaker">Another one!</button>
      <p class="mb-7"><a class="underline" href="#" @click.prevent="share = !share">Share with a friend (tap to reveal QR code)</a></p>
      <img x-show="share" class="mx-auto" src="frame.png" alt="QR Code">
    </div>
    <script>
      function iceBreakers() {
        return {
          current: '',
          index: 0,
          share: false,
          init() {
            this.shuffle();

            this.current = this.iceBreakers[this.index];
          },
          shuffle() {
            this.iceBreakers = this.iceBreakers.map(value => ({ value, sort: Math.random() }))
              .sort((a, b) => a.sort - b.sort)
              .map(({ value }) => value)
          },
          newIceBreaker() {
            this.index++;

            if (this.index > this.iceBreakers.length - 1) {
              this.shuffle();
              this.index = 0;
            }

            this.current = this.iceBreakers[this.index];
          },
          iceBreakers: [
            "Are you a cat person or a dog person?",
            "If you could have a superpower, what would it be?",
            "You're on a desert island and can bring one luxury with you â€“ what is it?",
            "If you could have an animal sidekick, what animal would it be? Why?",
            "What was your favorite class in school? Why?",
            "If you could rid the world of one thing, what would it be?",
            "What's something you like to do whenever you travel to a new country?",
            "What's a guilty pleasure you love to indulge from time to time?",
            "What's something you couldn't live without?",
            "If you could go back in time 10,000 years ago and make a cave painting to confuse everyone in the future, what would you draw?",
            "What's a hobby or side project you've been meaning to take up?",
            "What's an unusual skill you'd love to master?",
            "What does friendship mean to you?"
          ]
        }
      }
    </script>
  </body>
</html>
